(self["webpackChunklib_java_html"]=self["webpackChunklib_java_html"]||[]).push([[604],{90604:function(a,t,e){"use strict";e.d(t,{Z:function(){return h}});var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"chart-panel"},[e("canvas",{ref:"chartCanvas",attrs:{height:"150px"}}),a.showAvg?e("div",{staticClass:"down-txt"},[a._v("平均值: "+a._s(a.avg)+" "+a._s(a.avgPostFix)+"/ 秒")]):a._e()])},s=[],r=(e(9653),e(41539),e(54747),e(56977),e(55395)),i=e.n(r),n=e(91935),d={name:"line-chart",components:{},props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,required:!0},showAvg:{type:Boolean,default:!1},avgPostFix:{type:String,default:""},scales:{type:Number,default:1}},data:function(){return{chart:null,avg:0}},mounted:function(){this.createChart()},methods:{createChart:function(){var a=this.$refs.chartCanvas;this.chart=new(i())(a,{type:"line",data:this.chartData,options:this.chartOptions})},updateChart:function(){var a=this;if(this.chart.update(),this.showAvg){var t=this.chartData.datasets,e=0;t&&t.length>0&&t[0].data.forEach((function(t){e+=parseFloat(t)*a.scales}));var o=n.Z.timeDiff;this.avg=o&&o>0?(e/o).toFixed(2):0}}}},l=d,c=e(1001),u=(0,c.Z)(l,o,s,!1,null,null,null),h=u.exports},91038:function(a,t,e){var o=e(82109),s=e(48457),r=e(17072),i=!r((function(a){Array.from(a)}));o({target:"Array",stat:!0,forced:i},{from:s})},91935:function(a,t,e){"use strict";e.d(t,{Z:function(){return f}});var o=e(77965),s={memory:{total:"#5CB85C",used:"#5BC0DE"},cpu:{jvm:"#9418de"},thread:"#E6A23C",action:"#77e0c0",wsCount:{color0:"#e2cb15",color1:"#0f7ee2"},sendPacket:{count:"#574ed2",payload:"#2053ea"}},r=s,i=e(98054),n={data:{labels:[],datasets:[{label:"已分配内存",fill:"1",data:[],pointRadius:2.5,borderWidth:1,borderColor:r.memory.total,backgroundColor:i.Z.colorHexToRgba(r.memory.total,.4)},{label:"已经使用的内存",fill:"origin",data:[],pointRadius:2.5,borderWidth:1,borderColor:r.memory.used,backgroundColor:i.Z.colorHexToRgba(r.memory.used,.5)}]},options:{animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(a){return a+" MB"}},gridLines:{display:!1}}]},layout:{padding:15},title:{display:!0,text:"内存"},showLines:!0,scaleGridLineWidth:2,scaleShowGridLines:!1,scaleShowLabels:!1,datasetStrokeWidth:2,responsive:!0}},d=(e(56977),{data:{labels:[],datasets:[{label:"JVM负载",fill:"origin",data:[],pointRadius:2.5,borderWidth:1,borderColor:r.cpu.jvm,backgroundColor:i.Z.colorHexToRgba(r.cpu.jvm,.4)}]},options:{animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(a){return a.toFixed(0)+"%"},suggestedMax:100,suggestedMin:0},gridLines:{display:!0}}]},layout:{padding:15},title:{display:!0,text:"CPU使用情况"},showLines:!0,scaleGridLineWidth:2,scaleShowGridLines:!1,scaleShowLabels:!1,datasetStrokeWidth:2,responsive:!0}}),l={data:{labels:[],datasets:[{label:"活动线程数",fill:"origin",data:[],pointRadius:2.5,borderWidth:1,borderColor:r.thread,backgroundColor:i.Z.colorHexToRgba(r.thread,.4)}]},options:{animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:100},gridLines:{display:!1}}]},layout:{padding:15},title:{display:!0,text:"线程"},showLines:!0,scaleGridLineWidth:2,scaleShowGridLines:!1,scaleShowLabels:!1,datasetStrokeWidth:2,responsive:!0}},c={data:{labels:[],datasets:[{label:"HTTP动态请求数",fill:"origin",data:[],pointRadius:2.5,borderWidth:1,borderColor:r.action,backgroundColor:i.Z.colorHexToRgba(r.action,.4)}]},options:{animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:10},gridLines:{display:!1}}]},layout:{padding:5},title:{display:!0,text:"HTTP动态请求数"},showLines:!0,scaleGridLineWidth:2,scaleShowGridLines:!1,scaleShowLabels:!1,datasetStrokeWidth:2,responsive:!0}},u={data:{labels:[],datasets:[{label:"接收请求数",fill:"false",data:[],pointRadius:2.5,borderWidth:1,borderColor:r.wsCount.color0,backgroundColor:i.Z.colorHexToRgba(r.wsCount.color0,.4)},{label:"发送消息数",fill:"false",data:[],pointRadius:2.5,borderWidth:1,borderColor:r.wsCount.color1,backgroundColor:i.Z.colorHexToRgba(r.wsCount.color1,.4)}]},options:{animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:10},gridLines:{display:!1}}]},layout:{padding:15},title:{display:!0,text:"Web socket API 接收/发送 次数"},showLines:!0,scaleGridLineWidth:2,scaleShowGridLines:!1,scaleShowLabels:!1,datasetStrokeWidth:2,responsive:!0}},h={data:{labels:[],datasets:[{label:"接收请求流量",fill:"false",data:[],pointRadius:2.5,borderWidth:1,borderColor:r.wsCount.color0,backgroundColor:i.Z.colorHexToRgba(r.wsCount.color0,.4)},{label:"发送消息流量",fill:"false",data:[],pointRadius:2.5,borderWidth:1,borderColor:r.wsCount.color1,backgroundColor:i.Z.colorHexToRgba(r.wsCount.color1,.4)}]},options:{animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:10,callback:function(a){return a+" K"}},gridLines:{display:!1}}]},layout:{padding:5},title:{display:!0,text:"Web socket API 流量"},showLines:!0,scaleGridLineWidth:2,scaleShowGridLines:!1,scaleShowLabels:!1,datasetStrokeWidth:2,responsive:!0}},p={data:{labels:["0-1毫秒","1-10毫秒","10-100毫秒","100-1000毫秒","1-10秒次数","10-100秒","100-1000秒","大于1000秒"],datasets:[{label:"sql执行时间",data:[0,0,0,2,0,0,0,0],pointRadius:2.5,borderWidth:1,borderColor:r.action,backgroundColor:i.Z.colorHexToRgba(r.action,.4)}]},options:{animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:100},gridLines:{display:!1}}]},layout:{padding:5},showLines:!0,scaleGridLineWidth:2,scaleShowGridLines:!1,scaleShowLabels:!1,datasetStrokeWidth:2,responsive:!0}},b={data:{labels:[],timeDiff:0,datasets:[{label:"10秒发包数量",fill:"origin",data:[],pointRadius:2.5,borderWidth:1,borderColor:r.sendPacket.count,backgroundColor:i.Z.colorHexToRgba(r.sendPacket.count,.4)}]},options:{animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:10},gridLines:{display:!1}}]},layout:{padding:5},title:{display:!0,text:"10秒发包数量"},showLines:!0,scaleGridLineWidth:2,scaleShowGridLines:!1,scaleShowLabels:!1,datasetStrokeWidth:2,responsive:!0}},C={data:{labels:[],datasets:[{label:"10秒平均流量",fill:"origin",data:[],pointRadius:2.5,borderWidth:1,borderColor:r.sendPacket.payload,backgroundColor:i.Z.colorHexToRgba(r.sendPacket.payload,.4)}]},options:{animation:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(a){return a+" KB/s"}},gridLines:{display:!1}}]},layout:{padding:5},title:{display:!0,text:"10秒平均流量"},showLines:!0,scaleGridLineWidth:2,scaleShowGridLines:!1,scaleShowLabels:!1,datasetStrokeWidth:2,responsive:!0}},g=e(42817),f={sendPacketCountChart:b,sendPacketPayloadChart:C,avgSendPacketCount:0,avgSendPacketPayload:0,memoryChart:n,cpuChart:d,threadChart:l,actionChart:c,wsCountChart:u,wsPayloadChart:h,sqlTimeChart:p,timeDiff:0,onDataLoad:function(a){var t,e=[],s=[],r=[],n=[],d=[],l=[],c=[],u=[],h=[],p=[],b=[],C=[],f=0,y=0,m=(0,o.Z)(a);try{for(m.s();!(t=m.n()).done;){var v=t.value,k=v.recordTime;(0===f||f>k)&&(f=k),y<k&&(y=k),this.timeDiff=y-f>0?(y-f)/1e3+10:0,e.push(i.Z.timeFormat(k,"hh:mm:ss")),s.push(i.Z.toMemoryM(v.memory.totalMemory)),r.push(i.Z.toMemoryM(v.memory.usedMemory)),n.push(Math.round(100*v.processCpuLoad)/100),d.push(v.threadCount),l.push(v.actionCount),c.push(v.wsUpCount),u.push(v.wsUpCount),h.push(i.Z.sizeToK(v.wsUpPayload)),p.push(i.Z.sizeToK(v.wsDownPayload)),b.push(v.sendPacketCount),C.push(i.Z.sizeToK(v.sendPacketPayload/10))}}catch(w){m.e(w)}finally{m.f()}this.updateMemoryChart(e,s,r),this.updateCpuChart(e,n),this.updateThreadChart(e,d),this.updateActionChart(e,l),g.Z.serverInfo.hasWsApiImpl&&(this.updateWsCountChart(e,c,u),this.updateWsPayloadChart(e,h,p)),g.Z.serverInfo.hasSendPacketData&&(this.updateSendPacketCountChart(e,b),this.updateSendPacketPayloadChart(e,C))},updateWsCountChart:function(a,t,e){var o=this.wsCountChart.data;o.datasets[0].data=t,o.datasets[1].data=e,o.labels=a},updateWsPayloadChart:function(a,t,e){var o=this.wsPayloadChart.data;o.datasets[0].data=t,o.datasets[1].data=e,o.labels=a},updateActionChart:function(a,t){var e=this.actionChart.data;e.datasets[0].data=t,e.labels=a},updateSendPacketCountChart:function(a,t){var e=this.sendPacketCountChart.data;e.datasets[0].data=t,e.labels=a},updateSendPacketPayloadChart:function(a,t){var e=this.sendPacketPayloadChart.data;e.datasets[0].data=t,e.labels=a},updateThreadChart:function(a,t){var e=this.threadChart.data;e.datasets[0].data=t,e.labels=a},updateCpuChart:function(a,t){var e=this.cpuChart.data;e.datasets[0].data=t,e.labels=a},updateMemoryChart:function(a,t,e){var o=this.memoryChart.data;o.datasets[0].data=t,o.datasets[1].data=e,o.labels=a}}},77965:function(a,t,e){"use strict";e.d(t,{Z:function(){return r}});e(82526),e(41817),e(41539),e(32165),e(78783),e(33948),e(21703),e(47042),e(68309),e(91038),e(74916),e(77601);function o(a,t){(null==t||t>a.length)&&(t=a.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=a[e];return o}function s(a,t){if(a){if("string"===typeof a)return o(a,t);var e=Object.prototype.toString.call(a).slice(8,-1);return"Object"===e&&a.constructor&&(e=a.constructor.name),"Map"===e||"Set"===e?Array.from(a):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(a,t):void 0}}function r(a,t){var e="undefined"!==typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!e){if(Array.isArray(a)||(e=s(a))||t&&a&&"number"===typeof a.length){e&&(a=e);var o=0,r=function(){};return{s:r,n:function(){return o>=a.length?{done:!0}:{done:!1,value:a[o++]}},e:function(a){throw a},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,d=!1;return{s:function(){e=e.call(a)},n:function(){var a=e.next();return n=a.done,a},e:function(a){d=!0,i=a},f:function(){try{n||null==e["return"]||e["return"]()}finally{if(d)throw i}}}}}}]);